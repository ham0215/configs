" viäº’æ›ãƒ¢ãƒ¼ãƒ‰ã‚’å»ƒæ­¢
set nocompatible

" ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã‚’å¸¸ã«è¡¨ç¤º
set laststatus=2

set ambiwidth=double

set expandtab     " ã‚¿ãƒ–å…¥åŠ›ã‚’è¤‡æ•°ã®ç©ºç™½å…¥åŠ›ã«ç½®ãæ›ãˆã‚‹
set tabstop=2     " ç”»é¢ä¸Šã§ã‚¿ãƒ–æ–‡å­—ãŒå ã‚ã‚‹å¹…
set shiftwidth=2  " è‡ªå‹•ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã§ãšã‚Œã‚‹å¹…
set softtabstop=2 " é€£ç¶šã—ãŸç©ºç™½ã«å¯¾ã—ã¦ã‚¿ãƒ–ã‚­ãƒ¼ã‚„ãƒãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã§ã‚«ãƒ¼ã‚½ãƒ«ãŒå‹•ãå¹…
set autoindent    " æ”¹è¡Œæ™‚ã«å‰ã®è¡Œã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’ç¶™ç¶šã™ã‚‹
set smartindent   " æ”¹è¡Œæ™‚ã«å…¥åŠ›ã•ã‚ŒãŸè¡Œã®æœ«å°¾ã«åˆã‚ã›ã¦æ¬¡ã®è¡Œã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’å¢—æ¸›ã™ã‚‹
set encoding=UTF-8
set showcmd
set wildmenu
set number
"set cursorline

syntax on

"ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒã‚’æœ‰åŠ¹ã«ã™ã‚‹
set incsearch
" å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„
set ignorecase
" å¤§æ–‡å­—ã‚’å«ã‚“ã§æ¤œç´¢ã—ãŸã‚‰å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹
set smartcase
" æ¤œç´¢æ–‡å­—ãƒã‚¤ãƒ©ã‚¤ãƒˆ
set hlsearch

""""""""""" insert mode
" backspace
set backspace=indent,eol,start

set dictionary=/usr/share/dict/words

" insertãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰æŠœã‘ã‚‹
inoremap <silent> jj <ESC>

" æŒ¿å…¥ãƒ¢ãƒ¼ãƒ‰ã§ã®ã‚«ãƒ¼ã‚½ãƒ«ç§»å‹•
inoremap <C-j> <Down>
"inoremap <C-k> <Up>
"inoremap <C-n> <Left>
"inoremap <C-l> <Right>

 " Ctrl-x
inoremap <C-k> <C-x><C-k>
inoremap <C-]> <C-x><C-]>

" tagsã‚¸ãƒ£ãƒ³ãƒ—ã®æ™‚ã«è¤‡æ•°ã‚ã‚‹æ™‚ã¯ä¸€è¦§è¡¨ç¤º
nnoremap <C-]> g<C-]>

" term -> to normal mode
tnoremap <C-n> <C-W>N
" term -> paste
tnoremap <C-t> <C-W>""

" <Leader>ã‚’,ã«å¤‰æ›´
:let mapleader = ","

command! Toj %!jq '.'

" vim-gitgutter
set updatetime=250

" dein
set runtimepath+=~/.cache/dein/repos/github.com/Shougo/dein.vim

if dein#load_state('~/.cache/dein')
 call dein#begin('~/.cache/dein')

 call dein#add('~/.cache/dein')

 " deoplete
 "call dein#add('Shougo/deoplete.nvim')
 "call dein#add('roxma/nvim-yarp')
 "call dein#add('roxma/vim-hug-neovim-rpc')
 "call dein#add('takkii/Bignyanco')
 "call dein#add('takkii/ruby-dictionary3')
 "call dein#add('Shougo/neco-syntax')
 "call dein#add('ujihisa/neco-look')
 "call dein#add('deoplete-plugins/deoplete-tag')

 ""call dein#add('Shougo/neosnippet.vim')
 ""call dein#add('Shougo/neosnippet-snippets')

 " ruby-dictionary3
 "setlocal dictionary+=~/.config/nvim/repos/github.com/takkii/ruby-dictionary3/autoload/source/ruby_method_deoplete
 "call deoplete#custom#source(
 "      \ 'dictionary', 'ruby', ['[^. *\t]\.\w*\|\h\w*::'])

 " vim-ref
 "call dein#add('thinca/vim-ref')

 " unite
 call dein#add('Shougo/unite.vim')
 call dein#add('Shougo/neomru.vim')

 " nerdtree
 call dein#add('scrooloose/nerdtree')

 " git
 call dein#add('tpope/vim-fugitive')
 call dein#add('airblade/vim-gitgutter')

 " status bar
 call dein#add('vim-airline/vim-airline')
 call dein#add('vim-airline/vim-airline-themes')
 call dein#add('ryanoasis/vim-devicons')

 " color
 call dein#add('tomasr/molokai')
 
 " taglist
 call dein#add('vim-scripts/taglist.vim')

 " ale
 "call dein#add('w0rp/ale')

 "let g:ale_fixers = {
 "\   'ruby': ['rubocop'],
 "\}

 "let g:ale_ruby_rubocop_executable = 'docker-compose exec cc-api bundle exec rubocop'
 "let g:airline#extensions#ale#enabled = 1
 " vim-javascript
 call dein#add('pangloss/vim-javascript')
 
 " yajs
 call dein#add('othree/yajs.vim')
 "call dein#add('othree/es.next.syntax.vim')
 "call dein#add('othree/javascript-libraries-syntax.vim')
 call dein#add('othree/html5.vim')
 call dein#add('maxmellon/vim-jsx-pretty')
 call dein#add('ternjs/tern_for_vim')
 
 " vim-slim
 call dein#add('slim-template/vim-slim')

 " typescript-vim
 call dein#add('leafgarland/typescript-vim')

 " dash
 call dein#add('rizzatti/dash.vim')

 call dein#end()
 call dein#save_state()
endif
if has('vim_starting') && dein#check_install()
  call dein#install()
endif

filetype plugin indent on
syntax enable

colorscheme molokai

"""""""" unite
" å…¥åŠ›ãƒ¢ãƒ¼ãƒ‰ã§é–‹å§‹ã™ã‚‹
let g:unite_enable_start_insert=1
" history/yankæœ‰åŠ¹åŒ–
let g:unite_source_history_yank_enable = 1

" ãƒãƒƒãƒ•ã‚¡ä¸€è¦§
noremap <C-P> :Unite buffer<CR>
" ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
noremap <C-N> :UniteWithBufferDir -buffer-name=files file<CR>
" æœ€è¿‘ä½¿ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€è¦§
noremap <C-Z> :Unite file_mru<CR>
" sourcesã‚’ã€Œä»Šé–‹ã„ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ã¨ã™ã‚‹
noremap :uff :<C-u>UniteWithBufferDir file -buffer-name=file<CR>
" history/yank
nnoremap <silent> <C-y> :Unite history/yank<CR>
" ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’åˆ†å‰²ã—ã¦é–‹ã
"au FileType unite nnoremap <silent> <buffer> <expr> <C-J> unite#do_action('split')
"au FileType unite inoremap <silent> <buffer> <expr> <C-J> unite#do_action('split')
" ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ç¸¦ã«åˆ†å‰²ã—ã¦é–‹ã
"au FileType unite nnoremap <silent> <buffer> <expr> <C-K> unite#do_action('vsplit')
"au FileType unite inoremap <silent> <buffer> <expr> <C-K> unite#do_action('vsplit')
" ESCã‚­ãƒ¼ã‚’2å›æŠ¼ã™ã¨çµ‚äº†ã™ã‚‹
au FileType unite nnoremap <silent> <buffer> <ESC><ESC> :q<CR>
au FileType unite inoremap <silent> <buffer> <ESC><ESC> <ESC>:q<CR>

" nerdtree
map <C-D> :NERDTreeToggle<CR>

"""""""" vim-gitgutter
let g:gitgutter_sign_added = '+'
let g:gitgutter_sign_modified = '->'
let g:gitgutter_sign_removed = '-'

"""""""" taglist
let Tlist_Show_One_File = 1
let Tlist_Use_Right_Window = 1
let Tlist_Exit_OnlyWindow = 1
map <silent> <leader>l :TlistToggle<CR>

"""""""" yajs
autocmd BufRead,BufNewFile *.es6 setfiletype javascript

"""""""" vim-slim
autocmd BufRead,BufNewFile *.slim setfiletype slim

"""""""" ruby
autocmd BufRead,BufNewFile *.jbuilder setfiletype ruby

"""""""" airline
" Powerlineç³»ãƒ•ã‚©ãƒ³ãƒˆã‚’åˆ©ç”¨ã™ã‚‹
let g:airline_powerline_fonts = 1
let g:airline#extensions#tabline#enabled = 1
let g:airline#extensions#tabline#buffer_idx_mode = 1
let g:airline#extensions#whitespace#mixed_indent_algo = 1
let g:airline_theme = 'papercolor'

if !exists('g:airline_symbols')
  let g:airline_symbols = {}
endif

" unicode symbols
let g:airline_left_sep = 'Â»'
let g:airline_left_sep = 'â–¶'
let g:airline_right_sep = 'Â«'
let g:airline_right_sep = 'â—€'
let g:airline_symbols.crypt = 'ğŸ”’'
let g:airline_symbols.linenr = 'âŠ'
let g:airline_symbols.linenr = 'â¤'
let g:airline_symbols.linenr = 'Â¶'
let g:airline_symbols.maxlinenr = 'â˜°'
let g:airline_symbols.maxlinenr = ''
let g:airline_symbols.branch = 'â‡'
let g:airline_symbols.paste = 'Ï'
let g:airline_symbols.paste = 'Ã'
let g:airline_symbols.paste = 'âˆ¥'
let g:airline_symbols.spell = 'ê¨'
let g:airline_symbols.notexists = 'âˆ„'
let g:airline_symbols.whitespace = 'Î'

" powerline symbols
let g:airline_left_sep = 'î‚°'
let g:airline_left_alt_sep = 'î‚±'
let g:airline_right_sep = 'î‚²'
let g:airline_right_alt_sep = 'î‚³'
let g:airline_symbols.branch = 'î‚ '
"let g:airline_symbols.readonly = 'î‚¢'
let g:airline_symbols.readonly = 'ğŸ”’'
"let g:airline_symbols.linenr = 'î‚¡'

" old vim-powerline symbols
let g:airline_right_sep = 'â®‚'
let g:airline_right_alt_sep = 'â®ƒ'

 " deoplete
"let g:deoplete#enable_at_startup = 1
 "let g:monster#completion#backend = 'solargraph'

 " neosnippet
 "imap <C-k>     <Plug>(neosnippet_expand_or_jump)
 "smap <C-k>     <Plug>(neosnippet_expand_or_jump)
 "xmap <C-k>     <Plug>(neosnippet_expand_target)
 "smap <expr><TAB> neosnippet#expandable_or_jumpable() ? "\<Plug>(neosnippet_expand_or_jump)" : "\<TAB>"
 " For conceal markers.
 "if has('conceal')
 "  set conceallevel=2 concealcursor=niv
 "endif

" javascript-libraries-syntax.vim
let g:used_javascript_libs = 'jquery,react'
autocmd BufReadPre *.js let b:javascript_lib_use_jquery = 1
autocmd BufReadPre *.js let b:javascript_lib_use_react = 1
